### **Нефункциональные требования: Регистрация и профили**

- **NFR-REG-1**: Время отклика при регистрации пользователя не должно превышать 3 секунд при нормальной нагрузке.
- **NFR-REG-2**: Чувствительные данные пользователей (например, платежные реквизиты, если будут добавлены, или другая конфиденциальная информация) должны храниться с использованием алгоритма симметричного шифрования AES-256.
- **NFR-REG-3**: Система должна обеспечивать валидацию email и телефона на корректность формата при вводе.
- **NFR-REG-4**: Возможность одновременной регистрации не менее 100 пользователей без снижения производительности.
- **NFR-REG-5**: Интерфейс регистрации и профиля должен корректно отображаться на десктопных устройствах (веб-браузерах). Адаптивность для мобильных устройств не является требованием для текущего релиза.
- **NFR-REG-6**: Обеспечивать защиту от SQL-инъекций и XSS-атак при вводе данных в регистрационные формы.
- **NFR-REG-7**: Хранение паролей должно осуществляться с использованием надёжного алгоритма хэширования (например, bcrypt).
- **NFR-REG-8**: Система должна обеспечивать отказоустойчивость регистрации: при временных сбоях серверов данные не должны теряться.
- **NFR-REG-9**: Телефонный номер должен поддерживать формат международного стандарта E.164.

### **Нефункциональные требования: Профили — видимость и безопасность**

- **NFR-PROF-1**: Все действия по редактированию профиля должны быть журналированы с указанием пользователя, времени и типа изменения.
- **NFR-PROF-2**: Видимость информации должна управляться системой контроля доступа на основе ролей (RBAC).
- **NFR-PROF-3.1**: Полный просмотр профилей пользователей (с деталями, соответствующими бизнес-роли) должен быть доступен только авторизованным пользователям платформы.
- **NFR-PROF-3.2**: Система должна предоставлять возможность генерации публичной ссылки на профиль фрилансера/заказчика для демонстрации вне платформы. По такой ссылке отображается только общедоступная информация (портфолио, имя/псевдоним, описание, рейтинг) без контактных данных.
- **NFR-PROF-5**: При запросе изменения типа профиля система должна отображать предупреждение с условиями и возможными последствиями (UX).
- **NFR-PROF-6**: Изменения типа профиля должны вступать в силу не мгновенно, а после подтверждения пользователем (например, через email или интерфейсный шаг).
- **NFR-PROF-7**: При отображении профилей на платформе производительность должна сохраняться при 5000+ одновременных запросах к публичным страницам профилей.

### **Нефункциональные требования: 2FA**

- **NFR-AUTH-10.1**: Срок действия одноразового кода из TOTP-приложения не должен превышать 60 секунд.
- **NFR-AUTH-10.2**: Срок действия одноразового кода, отправленного по SMS, не должен превышать 5 минут (300 секунд).
- **NFR-AUTH-10.3**: Возможность запроса повторной отправки одноразового кода по SMS должна появляться не ранее чем через 60 секунд после предыдущей отправки.
- **NFR-AUTH-11**: Для TOTP используется стандарт RFC 6238.
- **NFR-AUTH-12**: При 3-кратном неверном вводе 2FA-кода доступ временно блокируется (например, на 5 минут).
- **NFR-AUTH-13**: Все действия, связанные с 2FA (включение, отключение, неудачные попытки), логируются и отображаются в истории безопасности профиля.
- **NFR-AUTH-14**: Система не хранит секреты TOTP в открытом виде, только в зашифрованной форме.
- **NFR-AUTH-15**: SMS-коды отправляются через сертифицированный провайдер с уровнем SLA не ниже 99.9%.
- **NFR-AUTH-16**: При включении 2FA пользователь должен пройти повторную авторизацию (ввести пароль и второй фактор).
- **NFR-AUTH-17**: Все резервные коды — одноразовые, шифруются при хранении, пользователь видит их только один раз при создании.
- **NFR-AUTH-18**: При утере всех методов входа (телефон утерян, нет резервных кодов) — восстановление доступа возможно только через обращение в поддержку с подтверждением личности (бизнес-процесс TBD).

#### **IV. Нефункциональные требования: Поиск и размещение заказов**

- **NFR-ORD-4.1**: Время отклика при поиске и фильтрации заказов не должно превышать **2 секунд** для 95% запросов при нормальной нагрузке.
- **NFR-ORD-4.2**: Актуальность каталога заказов должна поддерживаться с задержкой обновления не более **30 секунд** после публикации или изменения статуса заказа.
- **NFR-ORD-4.3**: Система должна обеспечивать доступность функционала размещения заказов **не менее 99.9%** времени в месяц.
- **NFR-ORD-4.4**: Валидация данных при размещении заказа (описание, сроки, бюджет, теги) должна выполняться на стороне сервера и клиентской части, предотвращая некорректный ввод.
- **NFR-ORD-4.5**: Время публикации нового заказа (от нажатия "Опубликовать" до появления в каталоге) не должно превышать **3 секунд**.

#### **V. Нефункциональные требования: Мессенджер и Коммуникации**

- **NFR-MSG-5.1**: Время доставки сообщений между участниками проекта в рамках встроенного мессенджера не должно превышать **1 секунды** для 99% сообщений.
- **NFR-MSG-5.2**: Система должна гарантировать доставку всех сообщений посредством асинхронной очереди (RabbitMQ), предотвращая потерю сообщений в случае временных сбоев.
- **NFR-MSG-5.3**: История переписки в рамках каждого заказа должна быть доступна для просмотра **без задержек более 2 секунд** при загрузке.
- **NFR-MSG-5.4**: Мессенджер должен выдерживать одновременное активное общение **1000+ пар пользователей** без деградации производительности.
- **NFR-MSG-5.5**: Вложения к сообщениям (файлы, изображения) должны загружаться и быть доступны для скачивания **не более чем за 5 секунд** (для файлов до 10 МБ).


#### **VI. Нефункциональные требования: Управление проектами и статусами**

- **NFR-PROJ-6.1**: Время обновления статуса проекта в пользовательском интерфейсе после действия (например, "Принять отклик", "Сдать работу") не должно превышать **2 секунд**.
- **NFR-PROJ-6.2**: Система должна обеспечивать возможность полного восстановления истории изменений статусов и действий по проекту из резервных копий, создаваемых не реже одного раза в 24 часа, с потерей данных не более чем за последний час.
- **NFR-PROJ-6.3**: Доступ к истории изменений по проекту должен быть доступен **не более чем за 3 секунды**.
- **NFR-PROJ-6.4**: Система должна обеспечивать целостность данных по проекту (статусы, сроки, участники), предотвращая их некорректное изменение или потерю в случае системных сбоев.
#### **VII. Нефункциональные требования: Финансовые операции**

- **NFR-FIN-7.1**: Все финансовые транзакции (пополнение счета, оплата размещения заказа, списание/начисление средств, комиссии, премии) должны быть зафиксированы в системе и доступны для аудита.
- **NFR-FIN-7.2**: Расчеты комиссий и премий должны выполняться с точностью до двух знаков после запятой (для денежных единиц).
- **NFR-FIN-7.3**: Изменение баланса пользователя после транзакции (пополнение, списание, начисление) должно отображаться в интерфейсе не более чем за **3 секунды**.
- **NFR-FIN-7.4**: История всех финансовых операций пользователя должна быть доступна для просмотра с возможностью фильтрации по дате и типу операции.
- **NFR-FIN-7.5**: Данные, связанные с финансовыми операциями, должны храниться и передаваться в зашифрованном виде (например, с использованием алгоритма AES-256 для хранения и TLS 1.2+ для передачи), предотвращая несанкционированный доступ и изменение.
- **NFR-FIN-7.6**: Система должна обеспечивать атомарность финансовых операций: либо все шаги транзакции выполнены успешно, либо ни один из них не зафиксирован (полный откат).

#### **VIII. Нефункциональные требования: Система уведомлений**

- **NFR-NOT-8.1**: Уведомления о критических событиях (например, выбор исполнителем, завершение проекта, поступление средств) должны доставляться пользователю не более чем за **5 секунд**.
- **NFR-NOT-8.2**: Уведомления о менее критичных событиях (например, новый отклик, изменение в профиле) должны доставляться не более чем за **30 секунд**.
- **NFR-NOT-8.3**: Система должна обеспечивать гарантию доставки всех отправленных уведомлений, используя механизм очередей сообщений.
- **NFR-NOT-8.4**: Пользователь должен иметь возможность управлять типами получаемых уведомлений и каналами доставки (например, email, уведомления на платформе).
- **NFR-NOT-8.5**: Общая доступность сервиса уведомлений должна составлять не менее **99.9%** времени в месяц.

#### **IX. Нефункциональные требования: Отчетность и аналитика**

- **NFR-REP-9.1**: Генерация стандартных отчетов (например, по количеству заказов, активности пользователей, доходам) не должна превышать **10 секунд** для выбранного периода.
- **NFR-REP-9.2**: Данные, используемые для формирования отчетов, должны быть согласованы с оперативными данными системы и обновляться не реже **одного раза в 24 часа**.
- **NFR-REP-9.3**: Доступ к аналитическим данным и отчетам должен быть ограничен на основе ролей (RBAC), как это определено для Администратора.
- **NFR-REP-9.4**: Система должна обеспечивать целостность и точность собираемых метрик и данных для отчетов.
- **NFR-REP-9.5**: Выгрузка отчетов в форматах CSV, JSON или PDF должна быть доступна и выполняться не более чем за **30 секунд** (для объемов данных, соответствующих отчетному периоду).
#### **X. Нефункциональные требования: Взаимодействие со службой поддержки и разрешение споров**

- NFR-SUP-10.1: Время регистрации нового обращения пользователя в системе (от момента отправки формы до подтверждения принятия) не должно превышать 2 секунд.
- **NFR-SUP-10.2**: Система должна обеспечивать надёжное логирование всех обращений, их статусов, действий сотрудников поддержки и всех связанных переписок.
- **NFR-SUP-10.3**: Доступность истории обращений для пользователей и сотрудников поддержки должна составлять не менее **99.9%** времени в месяц.
- **NFR-SUP-10.4**: История обращения, включая все этапы пересмотра и эскалации, должна быть доступна для просмотра в течение **3 секунд**.
- **NFR-SUP-10.5**: Система должна обеспечивать защиту конфиденциальных данных в обращениях и логах, доступ к которым имеют только авторизованные сотрудники поддержки и администраторы.

#### **XI. Нефункциональные требования: API и внешние интеграции**

- **NFR-API-11.1**: Все внешние API должны отвечать на запросы не более чем за **500 миллисекунд** для 95% запросов при нормальной нагрузке.
- **NFR-API-11.2**: API должны быть защищены с использованием современных стандартов аутентификации и авторизации (например, OAuth2/JWT) для предотвращения несанкционированного доступа.
- **NFR-API-11.3**: Документация по API (например, в формате Swagger/OpenAPI) должна быть актуальной и публично доступной для потенциальных интеграторов.
- **NFR-API-11.4**: Система должна поддерживать версионирование API для обеспечения обратной совместимости при изменениях.
- **NFR-API-11.5**: Внешние интеграции должны иметь механизмы для обработки ошибок и тайм-аутов при взаимодействии с API.
- **NFR-API-11.6**: API должны поддерживать не менее **100 запросов в секунду** без деградации производительности.
#### **XII. Нефункциональные требования: Общие системные требования**

- **NFR-GEN-12.1**: Система должна обеспечивать общую доступность (uptime) не менее **99.5%** времени в месяц.
    - _Пояснение:_ Это примерно 3 часа 39 минут простоя в месяц. Достигается за счет балансировки нагрузки, резервирования компонентов и автоматического восстановления.
- **NFR-GEN-12.2**: Система должна быть устойчива к сбоям отдельных компонентов; отказ одного микросервиса не должен приводить к полной неработоспособности всей платформы. Отказ любого одного микросервиса (кроме критически важных компонентов, таких как шлюз API или база данных аутентификации) не должен приводить к недоступности более 20% функционала платформы.
- **NFR-GEN-12.3**: Все критически важные данные должны иметь резервные копии, создаваемые не реже **одного раза в 24 часа**, с возможностью восстановления данных за срок не более **4 часов**.
- **NFR-GEN-12.4**: Система должна иметь средства мониторинга состояния всех микросервисов, баз данных и очередей сообщений.
- **NFR-GEN-12.5**: Все значимые события и ошибки в работе системы (системные логи, ошибки приложений, действия администратора) должны быть логированы и доступны для анализа.
- **NFR-GEN-12.6**: Система должна быть спроектирована с учетом горизонтальной масштабируемости, позволяющей добавлять новые экземпляры микросервисов для обработки возрастающей нагрузки.
- **NFR-GEN-12.7**: Платформа должна быть совместима с последними стабильными версиями основных десктопных веб-браузеров (Chrome, Firefox, Edge, Safari).
- **NFR-GEN-12.8**: Система должна обеспечивать своевременное информирование пользователей о плановых технических работах и возможных временных ограничениях доступности.
- **NFR-GEN-12.9**: Все данные, передаваемые по сети (между фронтендом и бэкендом, между сервисами), должны быть зашифрованы с использованием TLS 1.2 или выше.