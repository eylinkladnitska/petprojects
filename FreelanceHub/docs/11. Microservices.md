1. **User & Profile Service (Сервис пользователей и профилей):**
    - **Ответственность:** Регистрация, управление профилями (фрилансера, заказчика), хранение основных данных пользователя (имя, email, телефон, страна), портфолио, навыки, стили. Управление видимостью публичных профилей.
2. **Authentication & Authorization Service (Auth Service) (Сервис аутентификации и авторизации):**
    - **Ответственность:** Регистрация (пароли, JWT), вход в систему, 2FA (SMS, TOTP, email-коды), управление сессиями/токенами, сброс пароля. Проверка JWT.
3. **Roles & Permissions Service (Roles Service) (Сервис ролей и разрешений):**
    - **Ответственность:** Хранение информации о ролях пользователей (фрилансер, заказчик, админ, поддержка), управление правами доступа на основе ролей (RBAC). Предоставление другим сервисам информации о правах пользователя.
4. **Order & Project Service (Сервис заказов и проектов):**
    - **Ответственность:** Создание, редактирование, управление жизненным циклом заказов (статусы), хранение описаний проектов, сроков, бюджетов, тегов. Управление откликами на заказы.
5. **Messenger Service (Сервис мессенджера):**
    - **Ответственность:** Обмен сообщениями между участниками проекта, хранение истории переписки, обработка вложений.
6. **Notification Service (Сервис уведомлений):**
    - **Ответственность:** Отправка уведомлений пользователям (email, внутренние уведомления), управление подписками на уведомления.
7. **Payment Service (Сервис платежей):**
    - **Ответственность:** Управление счетами пользователей, пополнение счета (имитация в MVP), списание средств (за размещение, за выполнение), начисление комиссии и премий, логирование финансовых транзакций.
8. **Support & Dispute Service (Сервис поддержки и разрешения споров):**
    - **Ответственность:** Прием обращений от пользователей, управление жизненным циклом обращений (назначение, статус, ответ, пересмотр, эскалация), работа с отзывами (удаление, обоснование).
9. **Analytics & Reporting Service (Сервис аналитики и отчетов):**
    - **Ответственность:** Сбор, агрегация и хранение метрик активности пользователей, заказов, финансов. Генерация отчетов и дашбордов.
10. **Admin Service (Сервис администрирования):**
    - **Ответственность:** Управление пользователями (блокировка/удаление), управление персоналом поддержки, настройка платформы (комиссии, стоимость публикации, справочники, шаблоны уведомлений), просмотр логов администратора. Обработка эскалированных обращений.
11. **API Gateway (API-шлюз):**
    - **Ответственность:** Единая точка входа для всех внешних запросов (от фронтенда и внешних систем), маршрутизация запросов к соответствующим микросервисам, аутентификация, базовая валидация, логирование запросов.

---

### **Ключевые инфраструктурные компоненты:**

1. **RabbitMQ (Брокер сообщений):**
    - **Роль:** Обеспечивает асинхронное взаимодействие между микросервисами и гарантированную доставку сообщений, поддерживает событийную архитектуру.
2. **Swagger/OpenAPI (Документация API):**
    - **Роль:** Инструмент для автоматической генерации и предоставления интерактивной документации для REST API всех микросервисов.
3. **Postman (Инструмент для тестирования API):**
    - **Роль:** Используется для отладки, тестирования и взаимодействия с API каждого микросервиса.


### **Взаимодействия между Микросервисами**

#### **I. Типы Взаимодействий:**

- **REST API (Синхронный запрос-ответ):** Используется для запросов, требующих немедленного ответа и прямой зависимости.
- **RabbitMQ (Асинхронные события/сообщения):** Используется для обмена событиями, требующими гарантированной доставки, но не немедленного ответа, или для уведомления нескольких подписчиков.

#### **II. Взаимосвязи между Микросервисами:**

1. **API Gateway**
    - **Взаимодействует с (REST API):** User & Profile Service, Authentication & Authorization Service, Roles & Permissions Service, Order & Project Service, Messenger Service, Notification Service, Payment Service, Support & Dispute Service, Analytics & Reporting Service, Admin Service.
        - **Тип взаимодействия:** Проксирует входящие запросы от Frontend к соответствующим микросервисам.
    - **Взаимодействует с Authentication & Authorization Service (REST API):** Валидация JWT-токенов для авторизованных запросов перед их перенаправлением.
2. **Authentication & Authorization Service (Auth Service)**
    - **Инициирует (RabbitMQ Event):** User & Profile Service (событие о новой регистрации для создания базового профиля), Notification Service (для отправки email подтверждения регистрации).
    - **Запрашивает (REST API):** Roles & Permissions Service (для получения прав пользователя при авторизации).
3. **User & Profile Service**
    - **Принимает (RabbitMQ Event):** От Auth Service (событие о новой регистрации пользователя).
    - **Инициирует (RabbitMQ Event):** Order & Project Service (событие об обновлении профиля фрилансера, которое может повлиять на видимость в поиске), Analytics & Reporting Service (события об изменениях в профилях для статистики).
4. **Roles & Permissions Service (Roles Service)**
    - **Отвечает на запросы (REST API):** От Auth Service (предоставляет информацию о ролях и правах), Admin Service (для управления ролями и разрешениями).
5. **Order & Project Service**
    - **Инициирует (RabbitMQ Event):** Notification Service (уведомления о новых откликах, смене статуса заказа, выборе фрилансера), Payment Service (событие об оплате размещения заказа, о подтверждении завершения заказа).
    - **Запрашивает (REST API):** User & Profile Service (для получения данных фрилансера/заказчика при отображении профилей в заказах/откликах), Roles & Permissions Service (для проверки прав пользователя при создании/редактировании заказа).
    - **Принимает (REST API):** От Frontend (через API Gateway) запросы на создание, изменение, поиск заказов.
6. **Messenger Service**
    - **Инициирует (RabbitMQ Event):** Notification Service (уведомления о новых сообщениях).
    - **Запрашивает (REST API):** User & Profile Service (для получения данных об отправителе/получателе сообщений).
    - **Принимает (REST API):** От Frontend (через API Gateway) запросы на отправку/получение сообщений.
7. **Notification Service**
    - **Принимает (RabbitMQ Event):** От Auth Service, Order & Project Service, Messenger Service, Payment Service, Support & Dispute Service, Admin Service (для отправки различных уведомлений).
    - **Запрашивает (REST API):** User & Profile Service (для получения контактных данных пользователя, таких как email или телефон, для отправки уведомлений по этим каналам).
8. **Payment Service**
    - **Принимает (RabbitMQ Event):** От Order & Project Service (события об оплате размещения заказа, о завершении заказа для расчета выплат).
    - **Инициирует (RabbitMQ Event):** Notification Service (уведомления о пополнении, списании, начислении средств).
    - **Запрашивает (REST API):** User & Profile Service (для получения идентификаторов пользователей при проведении операций).
9. **Support & Dispute Service**
    - **Инициирует (RabbitMQ Event):** Notification Service (уведомления о статусе обращений), Admin Service (события об эскалации обращений).
    - **Запрашивает (REST API):** User & Profile Service (для получения данных пользователей по обращению), Order & Project Service (для получения контекста заказа по обращению), Messenger Service (для просмотра истории переписки по обращению).
10. **Analytics & Reporting Service**
    - **Принимает (RabbitMQ Event):** От User & Profile Service, Order & Project Service, Payment Service, Support & Dispute Service, Admin Service (события об активности, статусах, транзакциях, обращениях для сбора метрик).
    - **Запрашивает (REST API):** У Admin Service (через API Gateway) для предоставления агрегированной аналитики.
11. **Admin Service**
    - **Принимает (RabbitMQ Event):** От Support & Dispute Service (события об эскалации обращений).
    - **Запрашивает (REST API):** User & Profile Service (для управления пользователями), Support & Dispute Service (для управления обращениями поддержки), Analytics & Reporting Service (для просмотра отчетов).
    - **Инициирует (RabbitMQ Event):** Notification Service (для отправки системных уведомлений или настроенных шаблонов).
12. **RabbitMQ (Брокер сообщений)**
    - **Взаимодействует со всеми микросервисами:** Выступает посредником для асинхронной публикации и подписки на события. Не инициирует запросы, а маршрутизирует их.