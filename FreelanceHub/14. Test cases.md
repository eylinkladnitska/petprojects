### **Тест-кейс: TC 2.1: Успешный поиск и отклик на заказ с предложением своих условий**

- **Приоритет:** High
- **Тип теста:** Функциональный
- **Связанный Юз-кейс:** Фрилансер -> UC 2: Поиск заказа, отклик, предложение своих условий
- **Связанные Функциональные Требования:** FR-FREEL-4.5, FR-FREEL-4.6, FR-FREEL-4.7
- **Предусловия:**
    1. Пользователь зарегистрирован как "Фрилансер" и авторизован в системе.
    2. В системе существуют как минимум 3 активных заказа, соответствующих критериям фильтрации (например, по технологиям, бюджету, срокам).
    3. Баланс фрилансера позволяет отправить отклик (если есть комиссия за отклик, хотя в требованиях пока не было).
- **Шаги выполнения:**
    1. Фрилансер входит в систему.
    2. Переходит в раздел "Каталог заказов".
    3. Вводит в поле "Технологии" значение "React" (пример фильтра).
    4. Применяет фильтры.
    5. Выбирает первый отображенный заказ из отфильтрованного списка.
    6. На странице заказа просматривает описание, сроки, бюджет.
    7. Нажимает кнопку "Откликнуться".
    8. В форме отклика в поле "Предлагаемый бюджет" вводит значение, отличающееся от предложенного заказчиком (например, 60000).
    9. В форме отклика в поле "Предлагаемые сроки" вводит значение, отличающееся от предложенного заказчиком (например, "10 дней").
    10. В поле "Комментарий" вводит: "Готов выполнить работу качественно и в срок, предлагаю React.js для лучшей производительности."
    11. Нажимает кнопку "Отправить отклик".
- **Ожидаемый результат:**
    1. Фрилансер видит подтверждение об успешной отправке отклика (например, сообщение "Отклик успешно отправлен").
    2. Фрилансер перенаправляется на страницу "Мои отклики" или "Просмотр заказа", где статус отклика отображается как "Ожидает рассмотрения".
    3. Информация об отправленном отклике (включая предложенные бюджет и сроки, а также комментарий) сохранена в истории фрилансера и доступна для просмотра.
    4. Заказчик получает уведомление о новом отклике на свой заказ.


### **Тест-кейс: TC 2.2: Успешный отклик на заказ без изменения условий**
*   **Приоритет:** High
*   **Тип теста:** Функциональный
*   **Связанный Юз-кейс:** Фрилансер -> UC 2: Поиск заказа, отклик, предложение своих условий
*   **Связанные Функциональные Требования:** FR-FREEL-4.5, FR-FREEL-4.6
*   **Предусловия:**
    1.  Пользователь зарегистрирован как "Фрилансер" и авторизован в системе.
    2.  В системе существует активный заказ, на который фрилансер ещё не откликался.
*   **Шаги выполнения:**
    1.  Фрилансер входит в систему.
    2.  Переходит в раздел "Каталог заказов".
    3.  Находит и выбирает активный заказ (не используя фильтры).
    4.  На странице заказа просматривает описание, сроки, бюджет.
    5.  Нажимает кнопку "Откликнуться".
    6.  В форме отклика оставляет поля "Предлагаемый бюджет" и "Предлагаемые сроки" без изменений (или явно выбирает "Согласен с условиями заказчика", если такая опция есть).
    7.  В поле "Комментарий" вводит: "Готов выполнить данный проект в рамках указанных условий."
    8.  Нажимает кнопку "Отправить отклик".
*   **Ожидаемый результат:**
    1.  Фрилансер видит подтверждение об успешной отправке отклика.
    2.  Фрилансер перенаправляется на страницу, где статус отклика отображается как "Ожидает рассмотрения".
    3.  Информация об отправленном отклике (с условиями заказчика и комментарием) сохранена в истории фрилансера.
    4.  Заказчик получает уведомление о новом отклике.

---

### **Тест-кейс: TC 2.3: Отклик на заказ с предложением альтернативного стека технологий**

*   **Приоритет:** Medium
*   **Тип теста:** Функциональный
*   **Связанный Юз-кейс:** Фрилансер -> UC 2: Поиск заказа, отклик, предложение своих условий
*   **Связанные Функциональные Требования:** FR-FREEL-4.5, FR-FREEL-4.6, FR-FREEL-4.7
*   **Предусловия:**
    1.  Пользователь зарегистрирован как "Фрилансер" и авторизован в системе.
    2.  В системе существует активный заказ, где заказчик указал определённые технологии (например, "Ruby on Rails").
    3.  Фрилансер ещё не откликался на этот заказ.
*   **Шаги выполнения:**
    1.  Фрилансер входит в систему.
    2.  Переходит в раздел "Каталог заказов".
    3.  Находит и выбирает заказ с указанными технологиями.
    4.  Нажимает кнопку "Откликнуться".
    5.  В поле "Комментарий" вводит: "Здравствуйте! Я заметил, что вам требуется Ruby on Rails, но хотел бы предложить рассмотреть Python/Django. Это позволит быстрее прототипировать и масштабировать, а также оптимизировать затраты."
    6.  Нажимает кнопку "Отправить отклик".
*   **Ожидаемый результат:**
    1.  Фрилансер видит подтверждение об успешной отправке отклика.
    2.  Отклик сохраняется с указанным комментарием.
    3.  Заказчик получает уведомление о новом отклике, и в тексте отклика видит предложение альтернативных технологий.

---

### **Тест-кейс: TC 2.4: Отклик на несуществующий/закрытый заказ (негативный сценарий)**

*   **Приоритет:** Low (для функционала, но High для безопасности/валидации)
*   **Тип теста:** Негативный Функциональный / Валидационный
*   **Связанный Юз-кейс:** Фрилансер -> UC 2: Поиск заказа, отклик, предложение своих условий
*   **Связанные Функциональные Требования:** FR-FREEL-4.5, FR-FREEL-4.6 (непрямо, т.к. система должна предотвратить действие)
*   **Предусловия:**
    1.  Пользователь зарегистрирован как "Фрилансер" и авторизован в системе.
    2.  Существует заказ, который был **удален или завершен/архивирован** до начала теста, или фрилансер пытается откликнуться на заказ, на который он **уже откликнулся**.
*   **Шаги выполнения:**
    1.  Фрилансер входит в систему.
    2.  Пытается перейти на прямую ссылку (URL) завершенного/удаленного/уже откликнутого заказа.
    3.  Или, если такого заказа нет, пытается через API (например, используя Postman) отправить запрос на отклик с невалидным `orderId` или `orderId` уже откликнутого заказа.
    4.  Нажимает кнопку "Откликнуться" (если она доступна).
*   **Ожидаемый результат:**
    1.  Система не позволяет отправить отклик на несуществующий, закрытый или уже откликнутый заказ.
    2.  Отображается соответствующее сообщение об ошибке (например, "Заказ не найден", "Заказ неактивен", "Вы уже откликнулись на этот заказ").
    3.  API возвращает соответствующий HTTP статус-код ошибки (например, 404 Not Found, 403 Forbidden, 409 Conflict).
    4.  Отклик не регистрируется в системе.



### **Тест-кейс: TC 3.1: Успешная автоматическая эскалация обращения к Администратору**

*   **Приоритет:** High
*   **Тип теста:** Функциональный / Сквозной (End-to-End)
*   **Связанный Юз-кейс:** Сотрудник службы поддержки -> UC 3: Эскалация обращения к администратору
*   **Связанные Функциональные Требования:** FR-FREEL-4.18 (для фрилансера), FR-CUST-5.23 (для заказчика), FR-SUP-6.5 (для сотрудника поддержки), FR-ADM-7.3 (для администратора)
*   **Предусловия:**
    1.  Зарегистрированы и авторизованы 3 разных Сотрудника службы поддержки (например, Support1, Support2, Support3) и 1 Администратор платформы (Admin1).
    2.  Зарегистрирован и авторизован один Пользователь (Фрилансер или Заказчик), который будет подавать обращение.
    3.  В системе настроены пороги эскалации (например, 3-е обращение).
*   **Шаги выполнения:**
    1.  Пользователь подает **первое обращение** в службу поддержки.
    2.  `Support1` назначает обращение на себя, просматривает его и отправляет ответ, помечая как "Решено". (Подробные шаги из `UC 1: Обработка обращений от пользователей`).
    3.  Пользователь не согласен с решением `Support1` и подает **повторное обращение**.
    4.  Система автоматически назначает повторное обращение на `Support2`.
    5.  `Support2` назначает обращение на себя, просматривает его и отправляет ответ, помечая как "Решено". (Подробные шаги из `UC 2: Повторная проверка обращения (пересмотр)`).
    6.  Пользователь снова не согласен с решением `Support2` и подает **третье обращение** по тому же вопросу.
*   **Ожидаемый результат:**
    1.  Система автоматически регистрирует третье обращение.
    2.  Система не назначает его на `Support1` или `Support2`.
    3.  Система **автоматически эскалирует** обращение к `Admin1` (или ставит в очередь для Администраторов).
    4.  `Admin1` получает уведомление о новом эскалированном обращении.
    5.  `Admin1` видит полную историю обращений по данному инциденту, включая ответы `Support1` и `Support2`, и основания несогласия пользователя.
    6.  В логах системы (или отчетах качества поддержки) фиксируется факт эскалации данного обращения.
    7.  Статус обращения для пользователя изменяется на "На рассмотрении у Администратора".

---

### **Тест-кейс: TC 3.2: Отсутствие эскалации при отсутствии достаточных повторных обращений (негативный сценарий)**

*   **Приоритет:** Medium
*   **Тип теста:** Негативный Функциональный
*   **Связанный Юз-кейс:** Сотрудник службы поддержки -> UC 3: Эскалация обращения к администратору
*   **Связанные Функциональные Требования:** FR-SUP-6.5
*   **Предусловия:**
    1.  Зарегистрированы и авторизованы 2 разных Сотрудника службы поддержки (Support1, Support2) и 1 Администратор платформы (Admin1).
    2.  Зарегистрирован и авторизован один Пользователь.
    3.  В системе настроены пороги эскалации (например, 3-е обращение).
*   **Шаги выполнения:**
    1.  Пользователь подает **первое обращение**.
    2.  `Support1` обрабатывает и решает обращение.
    3.  Пользователь не согласен и подает **повторное обращение**.
    4.  Система назначает обращение на `Support2`.
    5.  `Support2` обрабатывает и решает обращение.
    6.  Пользователь **НЕ подает** третье обращение.
    7.  Пользователь подает **новое, ОТДЕЛЬНОЕ обращение** по другому вопросу.
*   **Ожидаемый результат:**
    1.  `Admin1` **НЕ получает** уведомление об эскалации по первому вопросу.
    2.  Второе, отдельное обращение обрабатывается как новый инцидент, без эскалации.
    3.  Логи не показывают факта эскалации по первому вопросу.



### **Тест-кейс: TC 2.1: Просмотр списка эскалированных и повторных обращений Администратором**

*   **Приоритет:** High
*   **Тип теста:** Функциональный / Отчётность
*   **Связанный Юз-кейс:** Администратор платформы -> UC 2: Контроль качества работы службы поддержки
*   **Связанные Функциональные Требования:** FR-ADM-7.2
*   **Предусловия:**
    1.  Пользователь зарегистрирован как "Администратор платформы" и авторизован в системе.
    2.  В системе существуют как минимум 2 обращения: одно, которое было **эскалировано** администратору (например, как в TC 3.1), и одно, по которому была **повторная подача** (переназначено другому сотруднику поддержки, но не эскалировано).
    3.  В системе существуют как минимум 2 сотрудника службы поддержки (Support1, Support2) с завершенными обращениями.
*   **Шаги выполнения:**
    1.  Администратор входит в систему.
    2.  Переходит в раздел "Панель Администратора" (или "Управление поддержкой").
    3.  Находит раздел "Обращения службы поддержки" или "Мониторинг качества поддержки".
    4.  Активирует фильтр "Повторные обращения" или "Эскалированные обращения".
    5.  Просматривает список.
*   **Ожидаемый результат:**
    1.  Администратор видит список всех обращений, которые были эскалированы к нему или имели повторную подачу.
    2.  Для каждого такого обращения отображается:
        *   ID обращения,
        *   Пользователь, подавший обращение,
        *   Тема обращения,
        *   Текущий статус (например, "Эскалировано", "Повторная подача"),
        *   Количество повторных подач,
        *   Список сотрудников поддержки, которые ранее обрабатывали это обращение,
        *   Возможность перехода в полную историю данного обращения.
    3.  Данные в списке соответствуют реальному состоянию обращений в системе.

---

### **Тест-кейс: TC 2.2: Оценка качества работы сотрудника поддержки по метрикам (позитивный)**

*   **Приоритет:** Medium
*   **Тип теста:** Функциональный / Отчётность
*   **Связанный Юз-кейс:** Администратор платформы -> UC 2: Контроль качества работы службы поддержки
*   **Связанные Функциональные Требования:** FR-ADM-7.2, FR-ADM-7.8
*   **Предусловия:**
    1.  Пользователь зарегистрирован как "Администратор платформы" и авторизован в системе.
    2.  В системе есть несколько завершенных обращений, обработанных разными сотрудниками поддержки.
*   **Шаги выполнения:**
    1.  Администратор входит в систему.
    2.  Переходит в раздел "Панель Администратора" -> "Отчёты по работе поддержки" или "Мониторинг качества поддержки".
    3.  Выбирает период отчёта (например, "Последний месяц").
    4.  Находит раздел "Показатели сотрудников поддержки".
    5.  Просматривает статистику по каждому сотруднику.
*   **Ожидаемый результат:**
    1.  Администратор видит агрегированные метрики для каждого сотрудника поддержки, такие как:
        *   Количество обработанных обращений.
        *   Среднее время ответа.
        *   Процент успешно решенных обращений.
        *   Количество обращений, которые были оспорены.
        *   Количество обращений, которые были эскалированы после их обработки данным сотрудником.
    2.  Данные в отчётах выглядят логично и соответствуют предполагаемой активности сотрудников.

---

### **Тест-кейс: TC 2.3: Ручное перераспределение обращения между сотрудниками поддержки (позитивный)**

*   **Приоритет:** Medium
*   **Тип теста:** Функциональный / Управление
*   **Связанный Юз-кейс:** Администратор платформы -> UC 2: Контроль качества работы службы поддержки
*   **Связанные Функциональные Требования:** FR-ADM-7.2
*   **Предусловия:**
    1.  Пользователь зарегистрирован как "Администратор платформы" и авторизован в системе.
    2.  В системе есть активное обращение, назначенное на `Support1`.
    3.  В системе есть другой сотрудник поддержки `Support2`.
*   **Шаги выполнения:**
    1.  Администратор входит в систему.
    2.  Переходит в раздел "Панель Администратора" -> "Обращения службы поддержки".
    3.  Находит активное обращение, назначенное на `Support1`.
    4.  Выбирает опцию "Переназначить" или "Изменить исполнителя".
    5.  В выпадающем списке (или поле ввода) выбирает `Support2` как нового исполнителя.
    6.  Подтверждает действие.
*   **Ожидаемый результат:**
    1.  Обращение успешно переназначается от `Support1` к `Support2`.
    2.  `Support2` получает уведомление о новом назначенном обращении.
    3.  `Support1` больше не видит это обращение в своей активной очереди (если это не предусмотрено логикой).
    4.  В логах обращения фиксируется, что Администратор вручную переназначил обращение.

